@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Light Mode - Base Colors */
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    /* Light Mode - Card Colors */
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    /* Light Mode - Popover Colors */
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    /* Brand Primary: #6172f3 -> HSL(233, 86%, 67%) */
    --primary: 233 86% 67%;
    --primary-foreground: 210 40% 98%;

    /* Brand Secondary (Gold): #eab308 -> HSL(48, 96%, 47%) */
    --secondary: 48 96% 47%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    /* Light Mode - Muted Colors */
    --muted: 210 40% 96.1%;
    --muted-foreground: 215 20% 43.5%;

    /* Light Mode - Accent Colors */
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    /* Semantic Colors - Destructive */
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    /* Light Mode - Border and Input */
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 233 86% 67%;

    /* Border Radius */
    --radius: 0.5rem;

    /* Co.Property Design System - Primary Colors (Light Mode) */
    --property-primary: 174 82% 24%;      /* #0F766E - Teal 700 */
    --property-secondary: 172 66% 50%;    /* #14B8A6 - Teal 500 */
    --property-accent: 48 96% 47%;        /* #eab308 - Gold */

    /* Semantic Status Colors (Light Mode) */
    --success: 142 71% 45%;               /* #10b981 - Success Green */
    --success-foreground: 0 0% 100%;
    --warning: 36 100% 50%;               /* #f59e0b - Warning Orange */
    --warning-foreground: 222.2 47.4% 11.2%;
    --error: 4 84% 60%;                   /* #ef4444 - Error Red */
    --error-foreground: 0 0% 100%;
    --info: 221 83% 53%;                  /* #3b82f6 - Info Blue */
    --info-foreground: 0 0% 100%;

    /* Neutral Grays (Light Mode) */
    --gray-25: 240 33% 99%;               /* #fcfcfd */
    --gray-50: 210 20% 98%;               /* #f9fafb */
    --gray-100: 214 14% 96%;              /* #f2f4f7 */
    --gray-200: 213 17% 93%;              /* #eaecf0 */
    --gray-300: 214 14% 82%;              /* #d0d5dd */
    --gray-400: 214 11% 65%;              /* #98a2b3 */
    --gray-500: 214 14% 46%;              /* #667085 */
    --gray-600: 215 16% 35%;              /* #475467 */
    --gray-700: 215 20% 25%;              /* #344054 */
    --gray-800: 217 33% 17%;              /* #1d2939 */
    --gray-900: 222 47% 11%;              /* #101828 */
    --gray-950: 220 43% 9%;               /* #0c111d */
  }

  .dark {
    /* Dark Mode - Base Colors */
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    /* Dark Mode - Card Colors */
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;

    /* Dark Mode - Popover Colors */
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    /* Brand Primary: #6172f3 - Same in dark mode */
    --primary: 233 86% 67%;
    --primary-foreground: 222.2 47.4% 11.2%;

    /* Brand Secondary (Gold): #eab308 - Same in dark mode */
    --secondary: 48 96% 47%;
    --secondary-foreground: 210 40% 98%;

    /* Dark Mode - Muted Colors */
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    /* Dark Mode - Accent Colors */
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    /* Semantic Colors - Destructive (Dark Mode) */
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    /* Dark Mode - Border and Input */
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 233 86% 67%;

    /* Co.Property Design System - Primary Colors (Dark Mode) */
    --property-primary: 172 66% 50%;      /* #14B8A6 - Teal 500 (lighter in dark) */
    --property-secondary: 174 82% 24%;    /* #0F766E - Teal 700 */
    --property-accent: 48 96% 53%;        /* Lighter gold for dark mode */

    /* Semantic Status Colors (Dark Mode) */
    --success: 142 76% 36%;               /* Darker success green */
    --success-foreground: 142 71% 95%;
    --warning: 36 100% 45%;               /* Darker warning orange */
    --warning-foreground: 36 100% 95%;
    --error: 4 90% 58%;                   /* Adjusted error red */
    --error-foreground: 4 84% 95%;
    --info: 221 83% 53%;                  /* Info blue */
    --info-foreground: 221 83% 95%;

    /* Neutral Grays (Dark Mode) - Inverted */
    --gray-25: 220 43% 9%;                /* Darkest in dark mode */
    --gray-50: 222 47% 11%;
    --gray-100: 217 33% 17%;
    --gray-200: 215 20% 25%;
    --gray-300: 215 16% 35%;
    --gray-400: 214 14% 46%;
    --gray-500: 214 11% 65%;
    --gray-600: 214 14% 82%;
    --gray-700: 213 17% 93%;
    --gray-800: 214 14% 96%;
    --gray-900: 210 20% 98%;
    --gray-950: 240 33% 99%;              /* Lightest in dark mode */
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    transition-property: color, background-color, border-color;
    transition-duration: 200ms;
    transition-timing-function: ease-in-out;
  }

  /* Smooth theme transitions */
  html {
    transition-property: color, background-color;
    transition-duration: 200ms;
    transition-timing-function: ease-in-out;
  }

  /* Glass morphism utilities */
  .glass {
    @apply backdrop-blur-sm bg-white/10 dark:bg-gray-800/10 border border-gray-200/20 dark:border-gray-700/20;
  }

  .glass-card {
    @apply backdrop-blur-md bg-white/80 dark:bg-gray-900/80 border border-gray-200/50 dark:border-gray-700/50 shadow-lg;
  }

  .glass-strong {
    @apply backdrop-blur-lg bg-white/90 dark:bg-gray-900/90 border border-gray-200/60 dark:border-gray-700/60 shadow-xl;
  }
}

/* ============================================================================
 * Skip Navigation Link - Accessibility
 *
 * Provides keyboard-only users a way to skip directly to main content.
 * Hidden visually until focused via Tab key.
 * ============================================================================ */
.skip-to-content {
  @apply sr-only focus:not-sr-only focus:fixed focus:top-4 focus:left-4 focus:z-[100]
    focus:rounded-md focus:bg-primary focus:px-4 focus:py-2 focus:text-sm focus:font-medium
    focus:text-primary-foreground focus:shadow-lg focus:outline-none focus:ring-2
    focus:ring-ring focus:ring-offset-2;
}

/* ============================================================================
 * Enhanced Focus Indicators - WCAG 2.1 AA Compliance
 *
 * Ensures all interactive elements have clearly visible focus outlines
 * that meet the 3:1 contrast requirement against adjacent colors.
 * ============================================================================ */
@layer base {
  :focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
  }

  /* Ensure links within text have visible focus */
  a:focus-visible {
    @apply rounded-sm;
  }
}

/* ============================================================================
 * Screen Reader Only - Live Region Utility
 * ============================================================================ */
.sr-live-region {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* ============================================================================
 * Reduced Motion - Accessibility Support
 *
 * Respects the user's OS-level "Reduce Motion" preference.
 * macOS: System Settings > Accessibility > Display > Reduce Motion
 * Windows: Settings > Ease of Access > Display > Show animations
 *
 * When enabled, all CSS animations and transitions are effectively disabled
 * by reducing their duration to near-zero. This prevents vestibular
 * discomfort for users with motion sensitivities.
 * ============================================================================ */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
